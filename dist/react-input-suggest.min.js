!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports["react-input-suggest"]=t(require("react")):e["react-input-suggest"]=t(e.React)}(this,function(e){return function(e){function t(o){if(n[o])return n[o].exports;var s=n[o]={exports:{},id:o,loaded:!1};return e[o].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(1),l=o(i),p=n(4),c=o(p),f=n(2),d=o(f),g=n(3),h=o(g),y=function(e){function t(e){s(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={inputValue:"",tags:[],isOpen:!1,suggestions:n.props.suggestions,suggestValueFocus:0},n.addNewTag=n.addNewTag.bind(n),n.clearInputValue=n.clearInputValue.bind(n),n.removeTag=n.removeTag.bind(n),n.focus=n.focus.bind(n),n.blur=n.blur.bind(n),n.handleClickOnWrapper=n.handleClickOnWrapper.bind(n),n.openSuggestionList=n.openSuggestionList.bind(n),n.closeSuggestionList=n.closeSuggestionList.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n.handleInputChange=n.handleInputChange.bind(n),n.handleMouseMove=n.handleMouseMove.bind(n),n.handleArrowDown=n.handleArrowDown.bind(n),n.handleArrowUp=n.handleArrowUp.bind(n),n.handleClickOnSuggestion=n.handleClickOnSuggestion.bind(n),n.renderDropdown=n.renderDropdown.bind(n),n.handleMouseDownArrow=n.handleMouseDownArrow.bind(n),n.filterSuggestions=n.filterSuggestions.bind(n),n.resetSuggestions=n.resetSuggestions.bind(n),n.renderSuggestList=n.renderSuggestList.bind(n),n}return u(t,e),a(t,[{key:"componentWillReceiveProps",value:function(e){e.suggestions!==this.state.suggestions&&this.setState({suggestions:e.suggestions.concat([])})}},{key:"addNewTag",value:function(e){this.clearInputValue(),this.closeSuggestionList(),this.resetSuggestions(),this.props.onAddTag(e)}},{key:"clearInputValue",value:function(){this.setState({inputValue:""})}},{key:"removeTag",value:function(e){this.props.onRemoveTag(e)}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur(),this.wrapper.blur()}},{key:"handleClickOnWrapper",value:function(e){var t=e.target.tagName.toLowerCase();return"span"!==t&&(this.focus(),void(this.props.isSuggestList&&this.openSuggestionList()))}},{key:"openSuggestionList",value:function(){this.setState({isOpen:!0})}},{key:"closeSuggestionList",value:function(){this.setState({isOpen:!1})}},{key:"handleKeyDown",value:function(e){var t=this.props.addTagKeys,n=this.props.removeTagKeys,o=this.state.inputValue,s=t.indexOf(e.keyCode)!==-1,r=n.indexOf(e.keyCode)!==-1;e.keyCode===this.props.keyArrowDown&&this.handleArrowDown(),e.keyCode===this.props.keyArrowUp&&this.handleArrowUp(),s&&""!==o&&(e.preventDefault(),this.addNewTag(o)),r&&""===o&&(e.preventDefault(),this.removeTag(this.state.tags.length-1)),8===e.keyCode&&""!==o&&this.resetSuggestions()}},{key:"handleInputChange",value:function(e){var t=e.target.value.trim();this.setState({inputValue:t}),this.openSuggestionList(),this.filterSuggestions(t)}},{key:"handleMouseMove",value:function(e){this.setState({suggestValueFocus:e})}},{key:"handleArrowDown",value:function(){var e=this.state.suggestions.length-1,t=this.state.suggestValueFocus;t<e&&this.setState({suggestValueFocus:t+1})}},{key:"handleArrowUp",value:function(){var e=this.state.suggestValueFocus;0!==e&&this.setState({suggestValueFocus:e-1})}},{key:"handleClickOnSuggestion",value:function(e){""!==e&&this.addNewTag(e)}},{key:"handleMouseDownArrow",value:function(e){var t=e.target.tagName.toLowerCase();return"span"===t&&this.setState({isOpen:!this.state.isOpen})}},{key:"filterSuggestions",value:function(e){var t=this.state.suggestions,n=this,o=t.filter(function(t){return t[n.props.suggestionValueName].toLowerCase().indexOf(e.toLowerCase())>-1});this.setState({suggestions:o})}},{key:"resetSuggestions",value:function(){var e=this.props.suggestions;this.setState({suggestions:e})}},{key:"renderSuggestList",value:function(){var e=this.state.suggestions;return this.state.isOpen&&e.length>0&&this.props.isSuggestList?l.default.createElement(h.default,{suggestValueFocus:this.state.suggestValueFocus,suggestions:e,valueName:this.props.suggestionValueName,onClick:this.handleClickOnSuggestion,onMouseMove:this.handleMouseMove}):null}},{key:"renderDropdown",value:function(){var e=this.state.isOpen?"input-dropdown-box-arrow-up":"input-dropdown-box-arrow-down";return l.default.createElement("span",{className:"input-dropdown-box",onMouseDown:this.handleMouseDownArrow},l.default.createElement("span",{className:e,onMouseDown:this.handleMouseDownArrow}))}},{key:"render",value:function(){var e=this,t=this,n=this.props.tags&&this.props.tags.map(function(e,n){return l.default.createElement(c.default,{key:n,label:e,index:n,onRemove:t.removeTag})}),o=this.renderSuggestList(),s=this.props.isSuggestList?this.renderDropdown():null;return l.default.createElement("div",{className:"suggest-wrapper"},l.default.createElement("div",{ref:function(t){e.wrapper=t},className:"input-suggest-wrapper",onClick:this.handleClickOnWrapper},n,l.default.createElement(d.default,{ref:function(t){e.input=t},value:this.state.inputValue,onKeyDown:this.handleKeyDown,onChange:this.handleInputChange,readOnly:this.props.readOnly,placeholder:this.props.placeholder}),s),o)}}]),t}(i.Component);y.propTypes={onAddTag:l.default.PropTypes.func,onRemoveTag:l.default.PropTypes.func,keyArrowDown:l.default.PropTypes.number,keyArrowUp:l.default.PropTypes.number,addTagKeys:l.default.PropTypes.arrayOf(l.default.PropTypes.number),removeTagKeys:l.default.PropTypes.arrayOf(l.default.PropTypes.number),readOnly:l.default.PropTypes.bool,isSuggestList:l.default.PropTypes.bool,suggestions:l.default.PropTypes.arrayOf(l.default.PropTypes.object),suggestionValueName:l.default.PropTypes.string,placeholder:l.default.PropTypes.string,tags:l.default.PropTypes.arrayOf(l.default.PropTypes.string)},y.defaultProps={addTagKeys:[13,9,32],removeTagKeys:[8,27],keyArrowDown:40,keyArrowUp:38,readOnly:!1,isSuggestList:!1,tags:[],suggestions:[],suggestionValueName:"name",placeholder:"Add new tag"},t.default=y},function(t,n){t.exports=e},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(1),l=o(i),p=function(e){function t(e){s(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={value:"",width:"5px"},n.changeInputWidth=n.changeInputWidth.bind(n),n.focus=n.focus.bind(n),n}return u(t,e),a(t,[{key:"componentDidMount",value:function(){this.changeInputWidth()}},{key:"componentWillReceiveProps",value:function(e){if(e.value!==this.state.value){var t=e.value.trim();this.setState({value:t}),this.changeInputWidth()}}},{key:"changeInputWidth",value:function(){var e=this.props.placeholder,t=this.state.value,n="5px";""!==e&&""===t?n=8*e.length+"px":""===e&&""===t||(n="auto"),n!==this.state.width&&this.setState({width:n})}},{key:"focus",value:function(){this.input.focus()}},{key:"render",value:function(){var e=this,t={width:this.state.width};return l.default.createElement("input",{ref:function(t){e.input=t},className:"input-suggest-input",style:t,placeholder:this.props.placeholder,value:this.state.value,onChange:this.props.onChange,onKeyDown:this.props.onKeyDown,readOnly:this.props.readOnly,size:this.state.size})}}]),t}(i.Component);p.propTypes={onChange:l.default.PropTypes.func,onKeyDown:l.default.PropTypes.func,placeholder:l.default.PropTypes.string,readOnly:l.default.PropTypes.bool},p.defaultProps={placeholder:""},t.default=p},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(1),l=o(i),p=function(e){var t=e.isFocused?"suggest-list-value is-focused":"suggest-list-value";return l.default.createElement("div",{className:t,onClick:e.onClick,onMouseMove:e.onMouseMove,onKeyDown:e.onKeyDown},e.name)};p.propTypes={name:l.default.PropTypes.string.isRequired,onClick:l.default.PropTypes.func,onMouseMove:l.default.PropTypes.func,isFocused:l.default.PropTypes.bool,onKeyDown:l.default.PropTypes.func};var c=function(e){function t(e){s(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isFocused:n.props.isFocused,suggestValueFocus:n.props.suggestValueFocus},n}return u(t,e),a(t,[{key:"componentWillReceiveProps",value:function(e){e.suggestValueFocus!==this.state.suggestValueFocus&&this.setState({suggestValueFocus:e.suggestValueFocus})}},{key:"render",value:function(){var e=this,t=this.props.suggestions&&this.props.suggestions.map(function(t,n){var o=e.state.suggestValueFocus===n;return l.default.createElement(p,{key:n,name:t[e.props.valueName],onClick:e.props.onClick.bind(null,t[e.props.valueName]),onMouseMove:e.props.onMouseMove.bind(null,n),isFocused:o})});return l.default.createElement("div",{className:"suggest-list-wrapper"},l.default.createElement("div",{className:"suggest-list"},t))}}]),t}(i.Component);c.propTypes={suggestions:l.default.PropTypes.arrayOf(l.default.PropTypes.object),suggestValueFocus:l.default.PropTypes.number,isFocused:l.default.PropTypes.bool},t.default=c},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(1),l=o(i),p=function(e){function t(e){s(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onRemove=n.onRemove.bind(n),n}return u(t,e),a(t,[{key:"onRemove",value:function(e){e.preventDefault(),this.props.onRemove(this.props.index)}},{key:"render",value:function(){return l.default.createElement("div",{className:"input-suggest-value"},l.default.createElement("span",{className:"input-suggest-label"},this.props.label),l.default.createElement("span",{className:"input-sugges-value-icon",onClick:this.onRemove},"x"))}}]),t}(i.Component);p.propTypes={index:l.default.PropTypes.number,label:l.default.PropTypes.string.isRequired,onRemove:l.default.PropTypes.func},t.default=p}])});