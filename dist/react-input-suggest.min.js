!function(e,s){"object"==typeof exports&&"object"==typeof module?module.exports=s(require("react")):"function"==typeof define&&define.amd?define(["react"],s):"object"==typeof exports?exports["react-input-suggest"]=s(require("react")):e["react-input-suggest"]=s(e.React)}(this,function(e){return function(e){function s(n){if(t[n])return t[n].exports;var o=t[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,s),o.loaded=!0,o.exports}var t={};return s.m=e,s.c=t,s.p="",s(0)}([function(e,s,t){"use strict";var n=t(1),o=t(4),i=t(2),r=t(3);e.exports=n.createClass({displayName:"exports",propTypes:{onAddTag:n.PropTypes.func,onRemoveTag:n.PropTypes.func,keyArrowDown:n.PropTypes.number,keyArrowUp:n.PropTypes.number,addTagKeys:n.PropTypes.array,removeTagKeys:n.PropTypes.array,readOnly:n.PropTypes.bool,isSuggestList:n.PropTypes.bool,suggestions:n.PropTypes.array,suggestionValueName:n.PropTypes.string,placeholder:n.PropTypes.string},getDefaultProps:function(){return{addTagKeys:[13,9,32],removeTagKeys:[8,27],keyArrowDown:40,keyArrowUp:38,readOnly:!1,isSuggestList:!0,tags:[],suggestions:[],suggestionValueName:"name",placeholder:"Add new tag"}},getInitialState:function(){return{inputValue:"",tags:[],isOpen:!1,suggestions:this.props.suggestions,suggestValueFocus:0}},componentWillReceiveProps:function(e){e.suggestions!==this.state.suggestions&&this.setState({suggestions:e.suggestions.concat([])})},addNewTag:function(e){this.clearInputValue(),this.closeSuggestionList(),this.resetSuggestions(),this.props.onAddTag(e)},clearInputValue:function(){this.setState({inputValue:""})},removeTag:function(e){this.props.onRemoveTag(e)},focus:function(){this.refs.input.focus()},blur:function(){this.refs.input.blur(),this.refs.wrapper.blur()},handleClickOnWrapper:function(e){var s=e.target.tagName.toLowerCase();return"span"!==s&&(this.focus(),void(this.props.isSuggestList&&this.openSuggestionList()))},openSuggestionList:function(){this.setState({isOpen:!0})},closeSuggestionList:function(){this.setState({isOpen:!1})},handleKeyDown:function(e){var s=this.props.addTagKeys,t=this.props.removeTagKeys,n=this.state.inputValue,o=s.indexOf(e.keyCode)!==-1,i=t.indexOf(e.keyCode)!==-1;e.keyCode===this.props.keyArrowDown&&this.handleArrowDown(),e.keyCode===this.props.keyArrowUp&&this.handleArrowUp(),o&&""!==n&&(e.preventDefault(),this.addNewTag(n)),i&&""===n&&(e.preventDefault(),this.removeTag(this.state.tags.length-1)),8===e.keyCode&&""!==n&&this.resetSuggestions()},handleInputChange:function(e){var s=e.target.value.trim();this.setState({inputValue:s}),this.openSuggestionList(),this.filterSuggestions(s)},handleMouseMove:function(e){this.setState({suggestValueFocus:e})},handleArrowDown:function(){var e=this.state.suggestions.length-1,s=this.state.suggestValueFocus;s<e&&this.setState({suggestValueFocus:s+1})},handleArrowUp:function(){var e=this.state.suggestValueFocus;0!==e&&this.setState({suggestValueFocus:e-1})},handleClickOnSuggestion:function(e){""!==e&&this.addNewTag(e)},renderSuggestList:function(){var e=this.state.suggestions;return this.state.isOpen&&e.length>0&&this.props.isSuggestList?n.createElement(r,{suggestValueFocus:this.state.suggestValueFocus,suggestions:e,valueName:this.props.suggestionValueName,onClick:this.handleClickOnSuggestion,onMouseMove:this.handleMouseMove}):null},renderDropdown:function(){var e=this.state.isOpen?"input-dropdown-box-arrow-up":"input-dropdown-box-arrow-down";return n.createElement("span",{className:"input-dropdown-box",onMouseDown:this.handleMouseDownArrow},n.createElement("span",{className:e,onMouseDown:this.handleMouseDownArrow}))},handleMouseDownArrow:function(e){var s=e.target.tagName.toLowerCase();return"span"===s&&void this.setState({isOpen:!this.state.isOpen})},filterSuggestions:function(e){var s=this.state.suggestions,t=this,n=s.filter(function(s){if(s[t.props.suggestionValueName].toLowerCase().indexOf(e.toLowerCase())>-1)return s});this.setState({suggestions:n})},resetSuggestions:function(){var e=this.props.suggestions;this.setState({suggestions:e})},render:function(){var e=this,s=this.props.tags&&this.props.tags.map(function(s,t){return n.createElement(o,{key:t,label:s,index:t,onRemove:e.removeTag})}),t=this.renderSuggestList(),r=this.props.isSuggestList?this.renderDropdown():null;return n.createElement("div",{className:"suggest-wrapper"},n.createElement("div",{ref:"wrapper",className:"input-suggest-wrapper",onClick:this.handleClickOnWrapper},s,n.createElement(i,{ref:"input",value:this.state.inputValue,onKeyDown:this.handleKeyDown,onChange:this.handleInputChange,readOnly:this.props.readOnly,placeholder:this.props.placeholder}),r),t)}})},function(s,t){s.exports=e},function(e,s,t){"use strict";var n=t(1);e.exports=n.createClass({displayName:"exports",propTypes:{onChange:n.PropTypes.func,onKeyDown:n.PropTypes.func,placeholder:n.PropTypes.string},getDefaultProps:function(){},getInitialState:function(){return{value:"",width:"5px"}},componentDidMount:function(){this.changeInputWidth()},componentWillReceiveProps:function(e){if(e.value!==this.state.value){var s=e.value.trim();this.setState({value:s}),this.changeInputWidth()}},changeInputWidth:function(){var e=this.props.placeholder,s=this.state.value,t="5px";""!==e&&""===s?t=8*e.length+"px":""===e&&""===s||(t="auto"),t!==this.state.width&&this.setState({width:t})},focus:function(){this.refs.input.focus()},render:function(){var e={width:this.state.width};return n.createElement("input",{ref:"input",className:"input-suggest-input",style:e,placeholder:this.props.placeholder,value:this.state.value,onChange:this.props.onChange,onKeyDown:this.props.onKeyDown,readOnly:this.props.readOnly,size:this.state.size})}})},function(e,s,t){"use strict";var n=t(1),o=n.createClass({displayName:"ListValue",propTypes:{name:n.PropTypes.string.isRequired,onClick:n.PropTypes.func,onMouseMove:n.PropTypes.func,isFocused:n.PropTypes.bool},render:function(){var e=this.props.isFocused?"suggest-list-value is-focused":"suggest-list-value";return n.createElement("div",{className:e,onClick:this.props.onClick,onMouseMove:this.props.onMouseMove,onKeyDown:this.props.onKeyDown},this.props.name)}});e.exports=n.createClass({displayName:"exports",propTypes:{suggestions:n.PropTypes.array,suggestValueFocus:n.PropTypes.number,valueName:n.PropTypes.string},getInitialState:function(){return{isFocused:this.props.isFocused,suggestValueFocus:this.props.suggestValueFocus}},componentWillReceiveProps:function(e){e.suggestValueFocus!==this.state.suggestValueFocus&&this.setState({suggestValueFocus:e.suggestValueFocus})},render:function(){var e=this,s=this.props.suggestions&&this.props.suggestions.map(function(s,t){var i=e.state.suggestValueFocus===t;return n.createElement(o,{key:t,name:s[e.props.valueName],onClick:e.props.onClick.bind(null,s[e.props.valueName]),onMouseMove:e.props.onMouseMove.bind(null,t),isFocused:i})});return n.createElement("div",{className:"suggest-list-wrapper"},n.createElement("div",{className:"suggest-list"},s))}})},function(e,s,t){"use strict";var n=t(1);e.exports=n.createClass({displayName:"exports",propTypes:{index:n.PropTypes.number,label:n.PropTypes.string.isRequired,onClick:n.PropTypes.func,onRemove:n.PropTypes.func},onRemove:function(e){e.preventDefault(),this.props.onRemove(this.props.index)},render:function(){return n.createElement("div",{className:"input-suggest-value"},n.createElement("span",{className:"input-suggest-label"},this.props.label),n.createElement("span",{className:"input-sugges-value-icon",onClick:this.onRemove},"x"))}})}])});